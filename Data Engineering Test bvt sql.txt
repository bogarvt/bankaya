CREATE TABLE CUSTOMERS 
(
	CUSTOMER_ID NUMBER(*,0), 
	NAME_CUSTOMER VARCHAR2(100), 
	FIRST_LAST_NAME VARCHAR2(200), 
	SECOND_LAS_NAME VARCHAR2(200), 
	RFC VARCHAR2(13), 
	CURP VARCHAR2(18), 
	STREET VARCHAR2(20), 
	EXTERIOR_NUMBER NUMBER, 
	CITY VARCHAR2(50), 
	ZIPCODE VARCHAR2(8)
);

ALTER TABLE CUSTOMERS ADD CONSTRAINT CUSTOMERS_PK PRIMARY KEY (CUSTOMER_ID);

CREATE PRODUCTS 
(	PRODUCT_ID NUMBER(*,0), 
	PRODUCT_NAME VARCHAR2(255), 
	UNIT_PRICE NUMBER(10,2)	
);

ALTER TABLE PRODUCTS ADD CONSTRAINT PRODUCTS_PK PRIMARY KEY (PRODUCT_ID);

CREATE TABLE ORDER_ITEMS 
(	
	ORDER_ID NUMBER, 
	CUSTOMER_ID NUMBER, 
	PRODUCT_ID NUMBER, 
	UNIT_PRICE NUMBER(10,2), 
	QUANTITY NUMBER
);

ALTER TABLE ORDER_ITEMS ADD CONSTRAINT ORDER_ITEMS_PK PRIMARY KEY (ORDER_ID,CUSTOMER_ID,PRODUCT_ID);

ALTER TABLE PRUEBA.ORDER_ITEMS ADD CONSTRAINT ORDER_ITEMS_CUSTOMER_ID_FK FOREIGN KEY (CUSTOMER_ID)
	  REFERENCES CUSTOMERS (CUSTOMER_ID) ON DELETE CASCADE ENABLE;
	  
ALTER TABLE PRUEBA.ORDER_ITEMS ADD CONSTRAINT ORDER_ITEMS_PRODUCT_ID_FK FOREIGN KEY (PRODUCT_ID)
	  REFERENCES PRODUCTS (PRODUCT_ID) ON DELETE CASCADE ENABLE;
	  
	  
INSERT INTO ORDER_ITEMS
SELECT 1 CUSTOMER_ID
,1 ORDERR_ID
,A.PRODUCT_ID
,A.UNIT_PRICE
,3
FROM PRODUCTS A
WHERE PRODUCT_ID=1;

COMMIT;

INSERT INTO ORDER_ITEMS
SELECT 1 CUSTOMER_ID
,1 ORDERR_ID
,A.PRODUCT_ID
,A.UNIT_PRICE
,6
FROM PRODUCTS A
WHERE PRODUCT_ID=2;